import { test, expect } from '@playwright/test'

test('可自适应文本高度的文本域', async ({ page }) => {
  page.on('pageerror', (exception) => expect(exception).toBeNull())
  await page.goto('http://localhost:7130/pc/input/autosize')
  const textarea = page.locator('.demo-input > .tiny-textarea > textarea')
  await page
    .getByRole('textbox')
    .nth(1)
    .fill(
      '11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'
    )
  await page
    .getByRole('textbox')
    .nth(2)
    .fill(
      '11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'
    )
  await expect(page.getByRole('textbox').nth(1)).toHaveCSS('height', '104px')
  await expect(page.getByRole('textbox').nth(2)).toHaveCSS('height', '70px')
})
