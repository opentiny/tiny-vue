@import '../custom.less';

@select-dropdown-prefix-cls: ~'@{css-prefix}select-dropdown';
@tree-prefix-cls: ~'@{css-prefix}tree';
@popper-prefix-cls: ~'@{css-prefix}popper';
@scrollbar-prefix-cls: ~'@{css-prefix}scrollbar';

.@{select-dropdown-prefix-cls} {
  @apply absolute;
  @apply ~'z-[1001]';
  @apply border-none;
  @apply rounded;
  @apply bg-color-bg-1;
  @apply shadow-md;
  @apply ~'mt-0.5';
  @apply box-border;

  .@{tree-prefix-cls} {
    max-height: 300px;
    @apply overflow-y-auto;
  }

  &.@{popper-prefix-cls} {
    @apply mt-1;
  }

  & .@{scrollbar-prefix-cls} {
    @apply rounded;

    &.is-empty &__list {
      @apply p-0;
    }
  }

  &__empty {
    @apply ~'py-2.5 px-0';
    @apply m-0;
    @apply text-center;
    @apply text-color-text-secondary;
    @apply text-xs;
  }

  & &__wrap {
    max-height: 200px;
  }

  & &__list {
    @apply list-none;
    @apply m-0;
    @apply py-1;
    @apply box-border;
    @apply text-left;
  }

  & &__item {
    @apply whitespace-nowrap;
    @apply box-border;
    @apply py-0 px-3;

    > .tiny-svg,
    > span > .tiny-svg {
      @apply ~'-mt-0.5';
    }
  }

  & &__loading {
    @apply text-center;
    @apply ~'py-2.5 px-0';

    > .circular {
      @apply fill-color-brand;
      @apply h-4;
      @apply w-4;
      animation: loading-rotate 2s linear infinite;

      .path {
        animation: loading-dash 1.5s ease-in-out infinite;
        stroke-dasharray: 90, 150;
        stroke-dashoffset: 0;
        @apply stroke-2;
        @apply stroke-color-brand;
        stroke-linecap: round;
      }
    }
  }
}

@keyframes loading-rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes loading-dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -40px;
  }

  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -120px;
  }
}
