@import '../custom.less';

@steps-prefix-cls: ~'@{css-prefix}steps';
@steps-senior-prefix-cls: ~'@{css-prefix}steps-senior';
@steps-line-prefix-cls: ~'@{css-prefix}steps-line';
@timeline-prefix-cls: ~'@{css-prefix}timeline';
@timeline-item-prefix-cls: ~'@{timeline-prefix-cls}-item';
@default-color: theme('colors.color.text.primary');
@active-color: theme('colors.color.brand.DEFAULT');
@disabled-color: theme('colors.color.text.disabled');

.@{steps-senior-prefix-cls} {
  @apply w-full;
  @apply flex;
  @apply text-color-text-primary;
  @apply text-xs;
  @apply leading-4;

  .@{steps-prefix-cls}-slide-bar {
    @apply w-full;
    @apply flex;

    .slide-main {
      @apply flex-auto;
      @apply overflow-auto;

      > div {
        @apply flex;
      }

      &::-webkit-scrollbar {
        @apply w-0;
        @apply h-0;
      }
    }

    .more-button {
      @apply hidden;
      @apply flex-none;
      @apply h-8;
      @apply cursor-pointer;
      @apply items-center;
      @apply select-none;

      &.display-flex {
        @apply flex;
      }

      .content {
        @apply w-4;
        @apply h-full;
        @apply flex;
        @apply items-center;
        @apply justify-center;
        @apply bg-color-bg-2;
      }

      .icon {
        @apply w-3;
        @apply h-3;
      }

      &.left .content {
        @apply ~'mr-1.5';
      }

      &.right .content {
        @apply ~'ml-1.5';
      }
    }
  }

  .more-button-con {
    @apply w-4;
    @apply h-full;
    @apply flex;
    @apply items-center;
    @apply justify-center;
    @apply ~'mr-1.5';
    @apply bg-color-bg-2;
    @apply text-color-text-disabled;

    &.left {
      @apply ~'mr-1.5';
    }

    &.right {
      @apply ~'ml-1.5';
    }

    &.bar-visible {
      @apply text-color-text-primary;

      &:hover {
        @apply bg-color-info-secondary-subtle;
        @apply text-color-brand;
      }
    }

    .icon {
      @apply w-3;
      @apply h-3;
      @apply fill-current;
    }
  }

  .@{steps-prefix-cls}-block {
    @apply h-8;
    @apply flex;
    @apply rounded-sm;
    @apply relative;
    @apply cursor-pointer;
    @apply text-color-text-secondary;
    @apply my-0 mx-px;
    @apply overflow-hidden;
    @apply bg-color-bg-3;

    .right-arrow.hide {
      @apply hidden;
    }

    &:hover {
      @apply bg-color-none-disabled;
    }

    &.active {
      @apply bg-color-brand;

      &:hover {
        @apply bg-color-brand;
      }
    }

    &.not-flex {
      @apply w-44;
    }

    &.done {
      @apply text-color-text-primary;
      @apply bg-color-info-primary-subtler;

      &:hover {
        @apply bg-color-info-secondary-disabled;
      }

      &.active {
        @apply bg-color-brand;

        &:hover {
          @apply bg-color-brand;
        }
      }
    }

    &.doing {
      @apply text-color-text-primary;
      @apply bg-color-info-primary-subtler;

      &:hover {
        @apply text-color-text-inverse;
        @apply bg-color-brand-hover;
      }

      &.active {
        @apply bg-color-brand;

        &:hover {
          @apply bg-color-brand;
        }
      }
    }

    &.fault {
      @apply text-color-error;
      @apply bg-color-error-subtler;

      &:hover {
        @apply bg-color-error-disabled;
      }

      &.active {
        @apply bg-color-error;

        &:hover {
          @apply bg-color-error;
        }
      }
    }

    &.disabled {
      @apply text-color-text-disabled;

      &:hover {
        @apply bg-color-bg-2;
      }

      &.active {
        @apply text-color-text-disabled;
        @apply bg-color-bg-2;

        &:hover {
          @apply bg-color-bg-2;
        }
      }
    }

    .arrow {
      @apply h-0;
      @apply w-0;
      @apply absolute;
      @apply border-color-text-inverse;
      @apply border-r-0;
      @apply border-solid;
      border-top-width: var(--ti-spacing-4, 1rem);
      border-bottom-width: var(--ti-spacing-4, 1rem);
      border-left-width: var(--ti-spacing-1_5, 0.375rem);
    }

    .left-arrow {
      @apply left-0;
      @apply border-t-transparent;
      @apply border-b-transparent;
    }

    .left-arrow.hide {
      @apply hidden;
    }

    .right-arrow {
      @apply right-0;
      @apply border-l-transparent;
    }
  }

  .@{steps-prefix-cls}-content {
    @apply text-sm;
    @apply flex-auto;
    @apply flex;
    @apply max-w-full;
    @apply items-center;
    @apply justify-center;
    @apply py-0 px-6;
    @apply overflow-hidden;
    @apply h-8;

    &:hover .@{steps-prefix-cls}-icon.doing {
      @apply bg-color-bg-1;
      @apply text-color-brand;
    }

    .@{steps-prefix-cls}-icon {
      @apply w-4;
      @apply h-4;
      @apply flex;
      @apply flex-none;
      @apply items-center;
      @apply justify-center;
      @apply rounded-full;
      @apply mr-2;
      @apply bg-color-text-disabled;
      @apply text-color-text-inverse;

      &.done,
      &.doing {
        @apply bg-color-brand;
        @apply text-color-text-inverse;
      }

      &.active:not(.disabled) {
        @apply text-color-brand;
        @apply bg-color-bg-1;
      }

      &.fault {
        @apply bg-color-error;
        @apply text-color-text-inverse;

        &.active {
          @apply text-color-error;
          @apply bg-color-bg-1;
        }
      }

      .icon {
        @apply ~'w-2.5';
        @apply ~'h-2.5';
        @apply fill-current;
      }
    }

    .@{steps-prefix-cls}-prefixslot {
      @apply flex-none;

      .prefix {
        @apply -mr-2;
      }
    }

    .@{steps-prefix-cls}-text {
      @apply flex-auto;
      @apply max-w-full;
      @apply truncate;

      &.active:not(.disabled) {
        @apply text-color-text-inverse;
      }

      .@{steps-prefix-cls}-text-name {
        @apply truncate;
      }

      .@{steps-prefix-cls}-text-description {
        @apply text-xs;
        @apply truncate;
      }
    }
  }

  &.large {
    .more-button {
      @apply h-12;
    }

    .@{steps-prefix-cls}-block {
      @apply h-12;

      .arrow {
        border-top-width: var(--ti-spacing-6, 1.5rem);
        border-bottom-width: var(--ti-spacing-6, 1.5rem);
        border-left-width: var(--ti-spacing-2, 0.5625rem);
      }

      .@{steps-prefix-cls}-content {
        @apply h-12;

        .@{steps-prefix-cls}-icon {
          @apply w-6;
          @apply h-6;
          @apply mr-3;

          .icon {
            @apply ~'w-3.5';
            @apply ~'h-3.5';
          }
        }
      }

      &:not(.active):not(:hover).done,
      &:not(.active):not(:hover).doing {
        .@{steps-prefix-cls}-text-description {
          @apply text-color-text-secondary;
        }
      }
    }
  }
}

.@{steps-line-prefix-cls} {
  @apply flex;
  @apply text-color-text-primary;

  .@{steps-prefix-cls}-left {
    @apply flex-1;
    @apply flex;
    @apply flex-col;
    @apply cursor-pointer;
    @apply max-w-xs;
    @apply mr-4;

    &.vertical {
      @apply text-center;
      @apply mr-0;
      @apply max-w-none;
    }

    .left-line {
      @apply border-t;
      @apply flex-auto;
      @apply opacity-0;

      &.not-vertical {
        @apply ~'min-w-[theme(spacing.6)]';
        @apply hidden;
        @apply mr-4;
      }
    }

    .right-line {
      @apply border-t;
      @apply flex-auto;

      &.not-vertical {
        @apply ~'min-w-[theme(spacing.6)]';
        @apply mr-4;
      }
    }
  }

  .item-number {
    @apply w-6;
    @apply h-6;
    @apply flex;
    @apply items-center;
    @apply justify-center;
    @apply rounded-full;
    @apply border border-color-brand;
    @apply text-color-brand;
    @apply bg-color-bg-1;
    @apply relative;
    @apply z-10;
    @apply box-border;
  }

  .item-circle {
    @apply w-6;
    @apply h-6;
    @apply flex-none;
    @apply rounded-full;
    @apply border border-color-brand;
    @apply bg-color-bg-1;
    @apply font-normal;
    @apply absolute;
    @apply box-border;
  }

  .@{steps-prefix-cls}-icon {
    @apply w-6;
    @apply h-6;
    @apply flex-none;
    @apply flex;
    @apply relative;
    @apply z-10;
    @apply leading-none;
  }

  .@{steps-prefix-cls}-main {
    @apply flex;
    @apply items-center;
    @apply relative;

    .line.line-brand {
      @apply border-color-brand;
    }
  }

  .@{steps-prefix-cls}-block {
    @apply flex-1;
    @apply flex;
    @apply flex-col;
    @apply cursor-pointer;
    @apply text-center;

    &.not-vertical {
      @apply ~'min-w-[theme(spacing.32)]';
      @apply max-w-xs;
      @apply mr-4;
      @apply text-left;
    }

    .@{steps-prefix-cls}-icon {
      @apply w-6;
      @apply h-6;
      @apply flex;
      @apply flex-none;
      @apply items-center;
      @apply justify-center;
      @apply rounded-full;
      @apply border border-current border-solid;
      @apply bg-color-bg-3;
      @apply text-color-text-placeholder;
      @apply text-sm;

      &:hover {
        @apply bg-color-none-disabled;
      }

      &.active {
        @apply bg-color-text-placeholder;
        @apply text-color-text-inverse;
      }

      &.active.fault {
        @apply text-color-error;
        @apply border border-color-error;
        @apply bg-color-error-subtler;
      }

      &.active.disabled {
        @apply bg-color-text-disabled;
        @apply text-color-text-inverse;
        @apply border-color-border;
      }

      .icon-finish {
        @apply fill-color-brand;

        &.active {
          @apply fill-color-bg-1;
        }
      }

      .icon-warn {
        @apply fill-color-error;
      }
    }

    &.flex-non {
      @apply flex-none;
    }

    &.normal {
      &:hover {
        @apply text-color-brand-hover;
      }
    }

    &.active {
      @apply text-color-brand;

      .description:not(.disabled) {
        @apply text-color-brand;

        &.fault {
          @apply text-color-error;
        }
      }
    }

    &.disabled {
      @apply text-color-text-disabled;
    }

    &.fault {
      @apply text-color-error;

      .@{steps-prefix-cls}-icon {
        @apply text-color-error;
        @apply border-color-error;
        @apply bg-color-bg-1;

        &:hover {
          @apply text-color-error;
          @apply border border-color-error;
          @apply bg-color-error-subtler;
        }
      }
    }

    &.doing .@{steps-prefix-cls}-icon {
      @apply border border-current;
      @apply text-color-brand;
      @apply bg-color-info-primary-subtler;

      &:hover {
        @apply border-none;
        @apply bg-color-brand-hover;
        @apply text-color-text-inverse;
      }

      &.active {
        @apply border-none;
        @apply bg-color-brand;
        @apply text-color-text-inverse;
      }
    }

    &.done .@{steps-prefix-cls}-icon {
      @apply bg-color-info-primary-subtler;
      @apply border-color-brand;

      &:hover {
        @apply border-color-brand-hover;
      }

      &.active {
        @apply border-color-brand;
        @apply bg-color-brand;
      }
    }

    .@{steps-prefix-cls}-icon.disabled {
      @apply text-color-text-disabled;
      @apply bg-color-bg-3;
      @apply border-color-border-separator;
    }

    .title {
      @apply text-sm;
      @apply ml-2;
      @apply font-normal;
      @apply truncate;
    }

    .line {
      @apply border-t border-t-color-border border-solid;
      @apply flex-auto;
    }

    .left-line.acetate {
      @apply opacity-0;
    }

    .left-line.not-vertical {
      @apply ~'min-w-[theme(spacing.6)]';
      @apply hidden;
      @apply ml-4;
    }

    .right-line {
      &.acetate {
        @apply opacity-0;
      }

      &.hide {
        @apply hidden;
      }

      &.not-vertical {
        @apply ~'min-w-[theme(spacing.6)]';
        @apply ml-4;
      }
    }

    .title-vertical {
      @apply text-sm;
      @apply font-normal;
      @apply truncate;
      @apply mt-3 mr-5 mb-0 ml-5;

      &.not-vertical {
        @apply hidden;
        @apply m-0;
      }
    }

    .description {
      @apply text-xs;
      @apply text-color-text-secondary;
      @apply mt-2;
      @apply line-clamp-2;
      @apply ml-8;
      @apply mr-5;
      @apply break-all;

      .disabled {
        @apply text-color-text-disabled;
      }

      .fault {
        @apply text-color-error;
      }

      .not-vertical {
        @apply ml-8;
      }
    }

    &.done .left-line {
      @apply border-t border-t-color-brand;
    }

    &.done .right-line {
      @apply border-t border-t-color-brand;
    }

    &.doing .left-line {
      @apply border-t border-t-color-brand;
    }

    .@{steps-prefix-cls}-main {
      @apply flex;
      @apply items-center;
    }

    &.mini {
      .@{steps-prefix-cls}-icon {
        @apply w-2;
        @apply h-2;
        @apply text-xs;

        &.fault {
          @apply border border-color-error;
          @apply bg-color-error-subtler;

          &.active {
            @apply bg-color-error;
          }
        }
      }

      .title,
      .title-vertical {
        @apply text-xs;
      }
    }

    &.small {
      .@{steps-prefix-cls}-icon {
        @apply w-4;
        @apply h-4;
        @apply text-xs;

        .icon {
          @apply ~'w-2.5';
          @apply ~'h-2.5';
        }
      }

      .title,
      .title-vertical {
        @apply text-xs;
      }
    }

    &.medium {
      .@{steps-prefix-cls}-icon {
        @apply w-6;
        @apply h-6;
        @apply text-sm;

        .icon {
          @apply ~'w-3.5';
          @apply ~'h-3.5';
        }
      }
    }

    &.large {
      .@{steps-prefix-cls}-icon {
        @apply w-8;
        @apply h-8;
        @apply text-base;

        .icon {
          @apply ~'w-4.5';
          @apply ~'h-4.5';
        }
      }

      .title,
      .title-vertical {
        @apply text-base;
      }
    }
  }

  &.medium .left-line {
    @apply mr-2;
  }

  &.medium .right-line {
    @apply ml-2;
  }

  &.small .left-line {
    @apply mr-2;
  }

  &.small .right-line {
    @apply ml-2;
  }

  &.mini .left-line {
    @apply mr-1;
  }

  &.mini .right-line {
    @apply ml-1;
  }

  &.large .left-line {
    @apply mr-3;
  }
  &.large .right-line {
    @apply ml-3;
  }

  .@{steps-prefix-cls}-right {
    @apply flex-1;
    @apply flex;
    @apply flex-col;
    @apply cursor-pointer;
    @apply text-center;

    &.not-vertical {
      @apply ~'min-w-[theme(spacing.32)]';
      @apply max-w-xs;
      @apply text-left;
    }

    .@{steps-prefix-cls}-main {
      @apply flex;
      @apply items-center;
      @apply relative;
    }

    .line {
      @apply border-t border-t-color-border;
      @apply flex-auto;
    }

    .line.right-line {
      @apply opacity-0;
    }

    .line.not-vertical {
      @apply ~'min-w-[theme(spacing.6)]';
      @apply hidden;
      @apply ml-4;
    }

    .@{steps-prefix-cls}-icon {
      @apply flex-none;
      @apply flex;
      @apply relative;
      @apply z-10;
    }

    .item-number {
      @apply flex;
      @apply items-center;
      @apply justify-center;
      @apply rounded-full;
      @apply border border-color-brand;
      @apply text-color-brand;
      @apply bg-color-bg-1;
      @apply relative;
      @apply ~'z-[9999]';
    }

    .item-circle {
      @apply flex-none;
      @apply rounded-full;
      @apply border border-color-brand;
      @apply bg-color-bg-1;
      @apply font-normal;
      @apply absolute;
    }
  }

  &.mini .@{steps-prefix-cls}-icon {
    @apply w-2;
    @apply h-2;
    @apply text-xs;
  }

  &.small .@{steps-prefix-cls}-icon {
    @apply w-4;
    @apply h-4;
    @apply text-xs;
  }

  &.medium .@{steps-prefix-cls}-icon {
    @apply w-6;
    @apply h-6;
    @apply text-sm;
  }

  &.large .@{steps-prefix-cls}-icon {
    @apply w-8;
    @apply h-8;
    @apply text-base;
  }

  &.mini {
    .item-number {
      @apply text-xs;
    }

    .item-circle {
      @apply w-2;
      @apply h-2;
    }
  }

  &.small {
    .item-number {
      @apply text-xs;
    }

    .item-circle {
      @apply w-4;
      @apply h-4;
    }
  }

  &.medium {
    .item-number {
      @apply text-sm;
    }

    .item-circle {
      @apply w-6;
      @apply h-6;
    }
  }

  &.large {
    .item-number {
      @apply text-base;
    }

    .item-circle {
      @apply w-8;
      @apply h-8;
    }
  }
}

.@{steps-prefix-cls} {
  color: @default-color;

  & &-advanced {
    & li {
      @apply ~'leading-[theme(spacing.8)]';
      @apply inline-block;
      @apply relative;
      @apply cursor-pointer;

      .label {
        @apply border-r-0;
        @apply flex;
        @apply relative;
        @apply no-underline;
        @apply pl-8;
        @apply pr-11;
        color: @default-color;
        @apply text-sm;
        @apply ~'mr-[theme(spacing[1.5])]';
        @apply bg-color-bg-5;

        // background-color: blue;

        > span {
          @apply w-full;
          @apply h-full;
          @apply text-ellipsis;
          @apply whitespace-nowrap;
          @apply overflow-hidden;
        }
      }

      &:not(:last-child) .label::after {
        @apply content-[''];
        border-top: 16px solid transparent;
        border-bottom: 16px solid transparent;
        border-left: 6px solid theme('colors.color.bg.5');

        @apply absolute;
        @apply right-0;
        @apply top-0;
        @apply ~'z-[1]';
        @apply transform translate-x-full;
      }

      &:not(:first-child) .label::before {
        @apply content-[''];
        border-top: 16px solid transparent;
        border-bottom: 16px solid transparent;
        border-left: 6px solid theme('colors.color.bg.1');
        @apply absolute;
        @apply ~'-left-[1px]';
        @apply top-0;
      }

      &.current:not(:last-child) .label::after,
      &:hover .label::after {
        border-left: 6px solid theme('colors.color.brand.DEFAULT');
      }

      &:first-child .label {
        @apply pl-3;
      }

      &.current {
        .label.label {
          background: @active-color;
          @apply border;
          @apply border-solid;
          border-color: @active-color;
          @apply text-color-text-inverse;
          @apply font-bold;
        }
      }

      &:last-child .label {
        @apply mr-0;
      }

      &:hover .label {
        background: @active-color;
        border-color: @active-color;
        @apply text-color-text-inverse;
        @apply no-underline;
      }

      &:first-child {
        .label {
          @apply rounded-tl-sm;
          @apply rounded-bl-sm;
        }
      }

      &:last-child {
        .label {
          @apply rounded-tr-sm;
          @apply rounded-br-sm;
          @apply mr-0;
          @apply pr-16;
        }
      }

      .dot {
        @apply h-5;
        @apply w-5;
        @apply p-0;
        @apply leading-5;
        @apply cursor-pointer;
        @apply right-8;
        @apply ~'top-1/2';
        @apply ~'-translate-y-2/4';
        @apply flex;
        @apply absolute;
        svg {
          @apply w-full;
          @apply h-full;
          @apply fill-color-text-primary;
        }
      }

      &.current,
      &:hover {
        .dot svg {
          @apply fill-color-icon-inverse;
        }
      }
    }

    .count {
      @apply bg-color-error;
      @apply rounded-full;
      @apply text-color-text-inverse;
      @apply inline-block;
      @apply text-xs;
      @apply font-normal;
      @apply ~'h-4.5';
      @apply leading-normal;
      @apply py-0 ~'px-1.5';
      @apply text-center;
      @apply whitespace-nowrap;
      @apply absolute;
      @apply ~'-top-2.5';
      @apply right-8;
      @apply ~'z-[1]';
    }
  }

  .process-wait,
  .process-wait .status,
  .process-wait .node-description .status {
    color: @disabled-color;
  }

  .process-wait {
    .icon:hover {
      color: @active-color;
    }
  }

  .line {
    @apply bg-color-border-separator;
    @apply ~'w-[calc(100%-40px)]';
  }

  .icon {
    @apply w-6;
    @apply h-6;
    @apply leading-6;
    @apply box-border;
    @apply relative;
    @apply text-sm;
    @apply text-center;
    left: ~'calc(50% - 12px)';
    @apply top-0;
    @apply rounded-full;
    @apply bg-color-bg-1;
    color: @disabled-color;
    @apply cursor-pointer;
    @apply ~'z-[15]';
  }

  .process-done {
    .icon {
      @apply bg-color-bg-5;
      @apply w-6;
      @apply h-6;
      @apply leading-6;
      @apply text-2xl;
      color: @active-color;

      .@{css-prefix}svg {
        fill: @active-color;
        @apply align-baseline;
        @apply rounded-full;
      }
    }
  }

  .node-description {
    @apply relative;
    @apply mt-3;
    @apply text-center;

    .name {
      @apply text-sm;
      @apply float-left;
      @apply w-full;
      @apply leading-5;
    }

    .status {
      @apply text-xs;
      @apply mt-2;
      @apply text-color-text-secondary;
      @apply float-left;
      @apply w-full;
    }
  }

  .process-current {
    color: @active-color;

    .icon {
      background: @active-color;
      @apply text-color-text-inverse;
      @apply text-sm;
    }

    .status {
      color: @active-color;
    }
  }

  .reverse {
    .process-current {
      .line {
        @apply bg-color-text-primary;
      }
    }
  }

  & &-normal {
    @apply overflow-hidden;

    .normal {
      @apply block;
      @apply float-left;
    }

    .line {
      @apply h-px;
      @apply ~'left-1/2';
      @apply ~'-top-3';
      @apply relative;
    }

    .line-end {
      @apply w-0;
    }

    .icon {
      span {
        @apply inline-block;
      }
    }
  }

  & &-timeline {
    @apply overflow-hidden;

    .timeline {
      @apply overflow-hidden;
      @apply flex;
      @apply h-24;

      .@{timeline-prefix-cls}-item__pillar {
        @apply flex flex-col;
      }

      .line {
        @apply w-px;
        @apply flex-1;

        .@{css-prefix}svg {
          @apply align-baseline;
        }
      }

      &:last-child {
        @apply h-auto;

        .line {
          @apply hidden;
        }
      }

      .date-time {
        @apply w-24;
        @apply pr-3;
        @apply pb-5;
        @apply text-xs;
        @apply text-right;

        .time {
          @apply block;
          @apply leading-none;
        }

        .date {
          @apply block;
          @apply leading-none;
          @apply mb-1;
        }
      }

      .name {
        @apply float-left;
        @apply text-sm;
        @apply font-bold;
        @apply ~'leading-6.5';
      }

      .icon {
        @apply top-0;
      }
    }
  }

  .@{timeline-prefix-cls}-item {
    .line {
      @apply ~'w-[calc(100%-24px)]';

      &.line-end {
        @apply w-0;
      }
    }
    .date-time {
      @apply text-center;
      @apply mb-1;
    }

    .node-description {
      .name {
        @apply font-bold;
      }
    }
  }

  .process-wait {
    .icon {
      @apply border border-solid;
    }
  }

  &.mobile {
    padding-left: 10%;

    .@{steps-prefix-cls}-timeline {
      overflow: inherit;

      .@{css-prefix-iconfont} {
        font-size: 45px;
      }

      .timeline {
        .line {
          .icon {
            width: 45px;
            line-height: 45px;
            height: 45px;
            @apply text-4xl;
            @apply relative;
            @apply ~'-left-5';
          }
        }

        .name {
          margin-left: 30px;
          font-size: 26px;
          @apply font-bold;
        }

        & > div {
          @apply ml-5;
        }
      }
    }
  }
}

// tiny 新增： 由于重构了time-line-item ，所以下面样式为tiny自有的样式。 此处的样式与上面的样式会互相影响，共同施加于time-line组件上。
.@{timeline-prefix-cls} {
  position: relative;

  .line {
    background: #dbdbdb;
  }

  .line-done {
    background: #191919;
  }

  .icon {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    left: calc(50% - 12px);
    top: 0;
    width: 24px;
    height: 24px;
    border: 1px solid #c9c9c9;
    border-radius: 50%;
    box-sizing: border-box;
    overflow: hidden;
    color: #aeaeae;
    cursor: pointer;
    background-color: #d9d9d9;
    z-index: 15;
    padding: 2px;

    &[class*=~'icon-'] {
      background-color: #fff;
    }

    &.icon-success {
      border-color: #0067d1;

      .fixicon {
        fill: #0067d1;
      }
    }

    &.icon-warning {
      background-color: #d19f00 !important;
      border-color: #d19f00;

      .fixicon {
        fill: #fff;
      }
    }

    &.icon-error {
      border-color: #e02128;

      .fixicon {
        fill: #e02128;
      }
    }

    .fixicon,
    .fixicons {
      width: 20px;
      height: 20px;
      background-color: transparent;
      padding: 2px;
    }

    &.fixicons {
      padding: 0;
      left: 0;
      border: none;
    }

    .number {
      display: inline-block;
    }
  }

  .date-time {
    text-align: center;
    color: #8a8e99;
    font-size: 12px;
    margin-bottom: 6px;
  }

  .@{steps-prefix-cls}__node {
    position: relative;
  }

  .process-done {
    .node-description {
      color: #333;
    }

    .icon {
      color: #0067d1;
      fill: #0067d1;
      border-color: #0067d1;
      background-color: #fff;

      .icon-yes {
        fill: #0067d1;
        font-size: 14px;
        border-radius: 50%;
      }
    }

    &.@{timeline-item-prefix-cls} .dot-container .dot {
      border-color: #0067d1;
      background-color: #fff;
    }
  }

  .process-current {
    .icon {
      color: #fff;
      font-size: 12px;
      border-color: #0067d1;
      background: #0067d1;

      .fixicons {
        fill: #fff;
      }
    }

    &.@{timeline-item-prefix-cls} .dot-container .dot {
      background-color: #0067d1;
    }
  }

  .process-error {
    cursor: not-allowed;

    .icon {
      flex-shrink: 0;
      color: #e02128;
      border-color: #e02128;
      background-color: #e02128;

      .icon-wrap {
        font-size: 0;
      }

      svg {
        fill: #fff;
        font-size: 14px;
      }
    }

    &.@{timeline-item-prefix-cls} .dot-container .dot {
      background-color: #e02128;
    }

    &.normal .node-description {
      .name,
      & div.name {
        color: #e02128;
      }
    }
  }

  .process-disabled {
    cursor: not-allowed;

    .icon {
      background-color: #f5f5f5;
      border-color: #c9c9c9;

      .number {
        color: #c9c9c9;
      }
    }

    &.@{timeline-item-prefix-cls} .dot-container .dot {
      background-color: #f5f5f5;
    }

    &.normal .node-description,
    .@{timeline-item-prefix-cls}__content {
      .name,
      & div.name {
        color: #777;
      }
    }
  }

  .reverse {
    .process-current {
      .line {
        background: #0067d1;
      }
    }
  }

  & .process-wait {
    .name {
      color: #aeaeae !important;
    }

    .icon {
      background-color: #fff;
    }
  }

  & .@{steps-prefix-cls}-normal {
    .normal {
      display: block;
      position: relative;
      font-size: 12px;
    }

    .icon {
      span {
        display: inline-block;
      }
    }

    .name {
      font-size: 14px;
      font-weight: 700;
      line-height: 20px;
      color: #191919;
    }

    &.process-wait {
      .name {
        color: #aeaeae;
      }
    }

    &.text-right {
      display: inline-flex;
      align-items: center;
      width: 100%;
      padding: 0;
      margin: 0;

      .normal {
        display: inline-flex;
        align-items: center;
        overflow: hidden;

        .step-icon {
          top: 0;
          left: 0;
          flex-shrink: 0;
        }

        .node-description {
          display: flex;
          position: relative;
          margin-left: 4px;
          flex: 1 0 auto;
          align-items: center;

          .name {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            margin-right: 8px;
            overflow: hidden;
            text-overflow: ellipsis;
            word-break: break-all;
            white-space: normal;
            text-align: left;
            max-width: 250px;
          }
        }

        .line {
          flex: 1;
          height: 1px;
          margin-left: 0;

          &.line-end {
            flex: 0;
          }
        }

        &:not(:first-child) {
          padding-left: 0px;
        }

        &:not(:last-child) {
          flex: 1;
        }

        &.no-flex {
          flex: none;
        }
      }
    }

    &.text-bottom {
      display: flex;

      .node-description {
        position: relative;
        text-align: center;
        margin-top: 12px;

        .name {
          font-size: 14px;
          float: left;
          width: 100%;
        }

        .status {
          font-size: 12px;
          float: left;
          width: 100%;
        }
      }

      .line {
        width: calc(100% - 20px - 0px * 2);
        height: 1px;
        left: 50%;
        top: 12px;
        position: absolute;

        &.line-end {
          width: 0;
        }
      }
    }

    .@{timeline-item-prefix-cls}__description {
      position: absolute;
      bottom: 0;
      transform: translateY(100%);
      min-width: 100px;
      text-align: left;
    }

    .process-current {
      .node-description .name {
        color: #0067d1;
        font-weight: bold;
      }
    }
  }

  .show-divider {
    .@{timeline-item-prefix-cls} {
      padding-bottom: 22px;

      &.process-current {
        &::after {
          content: '';
          display: inline-block;
          position: absolute;
          bottom: 0;
          left: 3px;
          border: 7px solid transparent;
          border-top: none;
          border-bottom-color: #0067d1;
        }
      }

      &:first-child {
        &.process-current::after {
          content: '';
          display: inline-block;
          position: absolute;
          bottom: 0;
          left: 3px;
          border: 7px solid transparent;
          border-top: none;
          border-bottom-color: #0067d1;
        }
      }
    }

    & + .@{steps-prefix-cls}__bottom-divider {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 1px;
      margin-top: calc(16px - 4px);
      background-color: #d9d9d9;
    }
  }

  & .@{steps-prefix-cls}-timeline {
    font-size: 14px;
    color: #333;

    &.@{timeline-prefix-cls}__shape-dot {
      padding-top: 4px;

      .timeline {
        .@{timeline-item-prefix-cls}__pillar .line {
          width: 1px;
          margin-block: 4px;
          background-color: #d9d9d9;
        }

        .@{timeline-item-prefix-cls}__content {
          margin-left: 20px;
        }

        &.timeline-item--primary .dot {
          border-color: #d9d9d9;
          background-color: #d9d9d9;
        }

        &.timeline-item--success .dot {
          border-color: #50d4ab;
          background-color: #50d4ab;
        }

        &.timeline-item--warning .dot {
          border-color: #d19f00;
          background-color: #d19f00;
        }

        &.timeline-item--danger .dot {
          border-color: #f66f6a;
          background-color: #f66f6a;
        }

        &.timeline-item--info .dot {
          border-color: #5e7ce0;
          background-color: #5e7ce0;
        }

        .@{timeline-item-prefix-cls}__content {
          margin-top: -5px;

          .name {
            margin-bottom: 4px;
          }

          .time {
            color: #8a8e99;
            font-size: 12px;
          }
        }
      }
    }

    .timeline {
      display: flex;
      align-items: flex-start;

      &.process-done {
        color: #333;
      }

      &.process-current {
        color: #0067d1;
      }

      &:last-child {
        .@{timeline-item-prefix-cls}__pillar .line {
          flex: 0;
        }
      }

      .@{timeline-item-prefix-cls}__pillar {
        display: flex;
        flex-direction: column;
        align-items: center;
        align-self: stretch;
        width: 8px;

        .line {
          width: 1px;
          flex: 1;

          .@{css-prefix}svg {
            vertical-align: baseline;
          }
        }

        .icon {
          left: 0;
        }
      }

      .date-time {
        padding-right: 12px;
        padding-bottom: 20px;
        text-align: right;

        .time {
          display: block;
          line-height: 1;
        }

        .date {
          display: block;
          line-height: 1;
          margin-bottom: 4px;
        }
      }

      .dot-container {
        position: relative;

        .fixicons {
          transform: translateY(-50%);
        }
      }

      .dot {
        display: block;
        width: 8px;
        height: 8px;
        border: 1px solid #d9d9d9;
        border-radius: 50%;
        box-sizing: border-box;
        background-color: #d9d9d9;
      }

      .@{timeline-item-prefix-cls}__content {
        padding-bottom: 20px;
        margin-left: 20px;
      }

      .icon {
        top: 0;
      }
    }
  }

  &--mini {
    .icon {
      width: 24px;
      height: 24px;
    }

    .@{css-prefix}svg,
    span,
    .process-done .icon .@{css-prefix}svg,
    .process-done .icon span,
    .process-error .icon .@{css-prefix}svg {
      font-size: 12px;
    }

    .node-description {
      .name,
      .status {
        font-size: 12px;
      }
    }
  }
}
