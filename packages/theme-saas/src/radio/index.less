@import '../mixins/common.less';
@import '../custom.less';

@radio-prefix-cls: ~'@{css-prefix}radio';

.@{radio-prefix-cls} {
  @apply text-color-text-primary;
  @apply font-medium;
  @apply mr-2;
  @apply inline-flex;
  @apply items-center;
  @apply relative;
  @apply cursor-pointer;
  .user-select(none);

  &:hover {
    .@{radio-prefix-cls}__inner {
      > svg {
        @apply fill-color-icon-hover;
      }
    }
  }

  &:active {
    .@{radio-prefix-cls}__inner {
      > svg {
        @apply fill-color-icon-active;
      }
    }
  }

  &:last-child {
    @apply mr-0;
  }

  &.is-bordered {
    @apply py-1 px-3;
    @apply rounded-sm;
    @apply border border-solid border-color-border;
    @apply box-border;
    @apply h-10;

    & + & {
      @apply ~'ml-2.5';
    }

    &.is-checked {
      @apply border-color-brand;
    }

    &.is-disabled {
      @apply cursor-not-allowed;
      @apply border-color-border-disabled;
    }
  }

  &,
  &__input {
    @apply whitespace-nowrap;
    @apply leading-none;
    @apply outline-0;
    @apply ~'p-0.5';
  }

  &__input {
    @apply cursor-pointer;
    @apply inline-flex;
    @apply p-0;

    // 兼容ie10-ie11
    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
      @apply inline-block;
    }

    // 兼容edge
    @supports (-ms-ime-align: auto) {
      @apply inline-block;
    }

    &.is-checked {
      .@{radio-prefix-cls}__inner {
        & > svg {
          @apply fill-color-brand;
        }

        &:hover {
          & > svg {
            @apply fill-color-icon-hover;
          }
        }

        &:active {
          & > svg {
            @apply fill-color-icon-active;
          }
        }
      }
    }

    &.is-disabled {
      .@{radio-prefix-cls}__inner {
        @apply cursor-not-allowed;
        & > svg {
          @apply fill-color-text-disabled;
        }

        &:not(.is-checked) > svg {
          path:last-child {
            @apply fill-color-bg-3;
          }
        }

        & + .@{radio-prefix-cls}__label {
          @apply cursor-not-allowed;
        }
      }

      &.is-checked .@{radio-prefix-cls}__inner {
        & > svg {
          @apply fill-color-brand-disabled;
        }
      }

      & + span.@{radio-prefix-cls}__label {
        @apply text-color-text-disabled;
        @apply cursor-not-allowed;
      }
    }
  }

  &__inner {
    & > svg {
      @apply text-base;
      @apply fill-color-icon-secondary;
    }

    &:hover {
      > svg {
        @apply fill-color-icon-hover;
      }
    }

    &:active {
      > svg {
        @apply fill-color-icon-active;
      }
    }
  }

  &__original {
    @apply opacity-0;
    @apply outline-0;
    @apply absolute;
    @apply ~'-z-[1]';
    @apply m-0;
    @apply w-0;
    @apply h-0;
  }

  &__label {
    @apply text-xs;
    @apply pl-2;
    @apply align-middle;
  }

  &--medium {
    &.is-bordered {
      @apply h-9;

      .@{radio-prefix-cls}__inner {
        > svg {
          @apply text-lg;
        }
      }

      .@{radio-prefix-cls}__label {
        @apply text-sm;
      }
    }
  }

  &--small {
    &.is-bordered {
      @apply h-8;

      .@{radio-prefix-cls}__label {
        @apply text-xs;
      }
    }
  }

  &--mini {
    &.is-bordered {
      @apply py-0 px-2;
      @apply h-7;
      line-height: 26px;

      .@{radio-prefix-cls}__label {
        @apply text-xs;
      }
    }
  }
  &.is-checked.is-display-only {
    @apply visible;
    @apply leading-none;

    .tiny-radio__input {
      @apply p-0;
      @apply hidden;
    }
    .tiny-radio__label {
      @apply pl-0;
    }
  }
  &.is-display-only {
    @apply invisible;
  }
}
