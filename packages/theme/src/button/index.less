/* stylelint-disable function-no-unknown */
/**
* Copyright (c) 2022 - present TinyVue Authors.
* Copyright (c) 2022 - present Huawei Cloud Computing Technologies Co., Ltd.
*
* Use of this source code is governed by an MIT-style license.
*
* THE OPEN SOURCE SOFTWARE IN THIS PRODUCT IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL,
* BUT WITHOUT ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS FOR
* A PARTICULAR PURPOSE. SEE THE APPLICABLE LICENSES FOR MORE DETAILS.
*
*/

// @import '../mixins/button.less';
@import '../custom.less';
@import './vars.less';

@button-prefix-cls: ~'@{css-prefix}button';
@svg-prefix-cls: ~'@{css-prefix}svg';

.@{button-prefix-cls} {
  .inject-Button-vars();

  display: inline-block;
  appearance: none;
  text-align: center;
  white-space: nowrap;
  text-overflow: ellipsis;
  cursor: pointer;
  user-select: none;
  border-image: initial;
  overflow: hidden;
  transition: all 0.3s;
  outline: 0;
  vertical-align: middle;
  font-weight: var(--tv-Button-font-weight);
  border-width: var(--tv-Button-border-width);

  /** 圆角场景 */
  border-radius: var(--tv-Button-border-radius);

  &.is-round {
    border-radius: var(--tv-Button-border-radius-round);
  }

  &.is-circle {
    border-radius: var(--tv-Button-border-radius-circle);
  }

  /** 尺寸场景 */
  .size-mixin(@size) {
    @fs: %('var(--tv-Button-font-size%a)', @size);
    @h: %('var(--tv-Button-height%a)', @size);
    @p: %('var(--tv-Button-padding-x%a)', @size);
    @mw: %('var(--tv-Button-min-width%a)', @size);

    font-size: e(@fs);
    height: e(@h);
    padding-left: e(@p);
    padding-right: e(@p);
    min-width: e(@mw);
  }

  .size-mixin(e('')); // 默认尺寸

  &.@{button-prefix-cls}--large {
    .size-mixin(-large);
  }
  &.@{button-prefix-cls}--medium {
    .size-mixin(-medium);
  }
  &.@{button-prefix-cls}--small {
    .size-mixin(-small);
  }
  &.@{button-prefix-cls}--mini {
    .size-mixin(-mini);
  }

  /** 颜色场景 */

  // 1、混入基本主题色: text-color bg-color border-color icon-color
  .color-theme-mixin(@theme) {
    @c: %('var(--tv-Button-text-color-%a)', @theme);
    @bg: %('var(--tv-Button-bg-color-%a)', @theme);
    @border: %('var(--tv-Button-border-color-%a)', @theme);
    @icon: %('var(--tv-Button-icon-color-%a)', @theme);

    color: e(@c);
    background-color: e(@bg);
    border-color: e(@border);
    fill: e(@icon);
  }

  &.@{button-prefix-cls}--default {
    .color-theme-mixin(default);
  }
  &.@{button-prefix-cls}--primary {
    .color-theme-mixin(primary);
  }
  &.@{button-prefix-cls}--success {
    .color-theme-mixin(success);
  }
  &.@{button-prefix-cls}--warning {
    .color-theme-mixin(warning);
  }
  &.@{button-prefix-cls}--danger {
    .color-theme-mixin(danger);
  }
  &.@{button-prefix-cls}--info {
    .color-theme-mixin(info);
  }
}
